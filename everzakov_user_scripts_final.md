# ВЕРЗАКОВ ЕФИМ - "ПАШАН"
# Пользовательские сценарии

### Группа: 11МИ1
### Электронная почта: efimverzakov@gmail.com
### VK: https://vk.com/everzakov
### Site: http://pauchan.pythonanywhere.com/



### Пользовательский сценарий №1 (Добавление новых товаров в базу данных (только для админов))
   
   1. Пользователь нажимает на кнопку "Создать новый товар", программа перенаправляет админа из личного кабинета в меню создания нового товара.
   2. Пользователь вводит название товара, программа вводит в поле "name" то, что ввёл пользователь.
   3. Если существует товар с этим именем, то программа помечает данное поле красным и выводит сообщение: "Товар с эти именем уже существует".
   4. Пользователь загружает фотографии нового товара, программа вводит в поле "images" названия изображений в папке 'UPLOAD_FOLDER', который пользователь загрузил.
   5. Если у изображения большой размер, т.е. он превышает верхнюю границу возможных размеров, которая в дальнейщем будет определена, то программа помечает данное поле красным и выводит сообщение: "Изображение имеет большой размер, загрузите изображение с размером в пределах до {верхняя граница возможных товаров}".
   6. Пользователь вводит название производителя, программа вводит в поле "producer" то, что ввёл пользователь, проверив на правильность характеристики данных.
   7. Пользователю предлагают на выбор страны, в которой он выбирает страну-производитель.  
   8. Пользователь вводит стоимость товара, программа вводит в поле "price" то, что ввёл пользователь, проверив на правильность характеристики данных.
   9. Пользователь вводит описание товара, программа вводит в поле "description" то, что ввёл пользователь.
   10. Пользователю предлагают на выбор продуктовые категории, если нужно нет, то ему предлагается создать новую.   
   11. Пользователь нажимает кнопку "Сохранить новый товар", если никакое поле не помечено красным, то сохраняет новый объект на сервере

### Пользовательский сценарий № 2 (Создание нового магазина и его администрирование (только для админов))
   1. Пользователь нажимает на кнопку "Создать новый магазин", программа перенаправляет админа из личного кабинета в меню создания нового магазина. 
   2. Пользователь вводит название нового магазина, программа вводит в поле "name" то, что ввёл пользователь.
   3. Если существует магазин с этим именем, то программа помечает данное поле красным и выводит сообщение: "Магазин с этим именем уже существует".
   4. Админ вводит расположение магазина, чтобы пользоватеям было удобно риентироватся в списке магазинов.
   5. Пользователь загружает фотографии нового товара, программа вводит в поле "image" относительный путь на сервере, изображения которое загрузил пользователь.
   6. Если у изображения большой размер, т.е. он превышает верхнюю границу возможных размеров, которая в дальнейщем будет определена, то программа помечает данное поле красным и выводит сообщение: "Изображение имеет большой размер, загрузите изображение с размером в пределах до {верхняя граница возможных товаров}".
   7. Если всё соблюдено, то создаётся новый магазин, создается папка с именем магазина,  и в ней создаютса база данных магазина, и сохраняются загруженные изображения.
   
   (только для админов или работников магазина)
   Администрирование магазина проходит следующим образом:
   1. Админ/работник выбирает продуктовую категорию, выбирает продукт или ищет его через поиск.
   2. Сервер подгружает товар, если его нет в базе данных магазина.
   3. Пользователь новую цену, если хочет её изменить (не скидки).
   4. Пользователь нажимает на фотографию схемы магазина, чтобы показать, где находится товар.
   
   
### Пользовательский сценарий № 3 (Создание нового шаблона товаров или изменение списка любимых товаров)

   1. Пользователь нажимает на кнопку "Создать новый шаблон товаров", программа перенаправляет пользователя из основого меню в меню создания нового шаблона товаров.
   2. Пользователь вводит название нового шаблона. 
   3. Пользователь выбирает продуктовую категорию, выбирает продукт или ищет его через поиск.
   4. Если пользователь искал товар через поиск, то программа, не найдя информацию о товаре, выводит: "Товар не найден".
   5. Пользователь вводит количество товаров, которое он хочет покупать. 
   6. Пользователь нажимает на кнопку "Сохранить товар в шаблоне".
   7. Пользователь повторяет пункту 3-6, пока не выбирет все ему нужные товары.
   8. Пользователь нажимает на кнопку "Сохранить шаблон", и программа его в папку пользователся на сервере.
   
### Пользовательский сценарий № 5  (Основная программа) 

   1. Пользователь нажимает на кнопку "Я в магазине", программа перенаправляет пользователя из основого меню в меню "Я в магазине".
   2. Программа с помощью gps определяет номер магазина.
   3. Получает данные о магазине по его номеру.
   4. Пользователь выбирает список товаров или создаёт новый список, следуя пользовательскому сценарию № 3.
   5. Программа отправляет номер магазина и список товаров на сервер, который обратывает их, используя инструкции в пользовательском сценарии № 6.
   6. Программа получает данные после пункта 4.
   7. Пользователь следует по списку, если он взял продукт, то он отмечает "Я взял продукт", и продукт удаляется из списка.
   8. Если пользователь оттошёл от пути, то он нажимает на кнопку "Вернуться на путь" и выбирает узел по карте, где он находится, программа отправляет список товаров, номер магазина и номер узла, сервер следует инструкциям из пользовтельского сценария №6.
   9. Программа получает данные из пункта №8.
   10. Пользователь следует от пункта 7 до пункта 9.
   11. Когда список пуст, программа выводит сообщение: "Проследуйте до касс".
   
### Пользовательский сценарий № 6 (Вход в аккаунт)
   1. Пользователь нажимает на кнопку "Авторизоваться", его перенаправляют на страницу входа в аккаунта.
   2. Пользователь вводит логин и пароль для вход в аккаунт.
   3. Если в баззе данных нет аккаунта с этими логином и пароль, то появляется следующая строчка "Неправильный логин или пароль".
   4. Если пользователь всё-таки вводит правильный логин и пароль, его перенаправляют в личный кабинет и в session записывается логин пользователя.
   5. Если пользователь не может вспомнить логин, он нажимает на текст "Забыли логин?".
   6. Пользователь вводит в поле Email вводит почту.
   7. Сервер находит логин пользователя по введённой почте, и отправляет его на эту почту.
   8. Если пользователя не может вспомнить пароль, он нажимает на текст "Забыли пароль?".
   9. Пользователь вводит в поле Email/login вводит почту или логин.
   10. Сервер находит почту пользователя по введённой почте/логин, и отправляет на почту ссылку на смену пароля.
   11. Пользователь вводит новый пароль. Если он такой же, какой и был, то выводит строчка: "Пароли не могут совпадать", иначе сохраняет пароль.
   
### Пользовательский сценарий № 7 (Создание аккаута)
   1. Пользователь нажимает на кнопку "Зарегистрироваться", его перенапрвляют на страницу создания аккаунта.
   2. Пользователь вводин логин в поле login.
   3. Пользователь вводит пароль в поле password.
   4. Пользователь вводит почту в поле email, на которую будут отправляется ифнормация о скидках, логин и ссылка на смену пароля.
   5. Пользователь соглашается/не соглашается получать уведомления о всех скидках на товары.
   6. Пользователь соглашется/не соглашается получать уведомления о скилках на любимые товары.
   7. Если такой логин уже существует, то появляется строка: "Логин уже занят", чтобы сохранить уникальность аккаунта.
   8. Если введённая почта уже используется, то появляется строка: "Email уже используется", чтобы сохранить уникальность аккаунта.
   9. Если все условия уникальности соблюдаются, то содаётся новый пользователь, и выводится строка: "Пользователь успешно создан".
   10. Создаётся папка с логин пользователя на сервере, в которой создаётся ещё папка "favourite_templates", в которой будут хранится шаблоны пользователя.
